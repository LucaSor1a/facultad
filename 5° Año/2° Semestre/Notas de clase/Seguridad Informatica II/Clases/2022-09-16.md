# Seguridad Forense
- La clave conservar la integridad de los datos y no contaminarlos.
- Esto es porque el profe dijo que quiere que ojalá pueda venir alguien a dar una clase de esto.

# Token
- Ver como se usan en un ámbito transaccional, supongo que relacionado a los bancos, ya que él tiene experiencia ahi.

# Caso: Aplicar la matriz de requerimientos de seguridad en un SaaS
1. ¿El proveedor lleva a cabo regularmente evaluaciones de riesgo sobre sus instalaciones y servicios para evitar posibles incidentes de seguridad asociados a vulnerabilidades, fallas de proceso o incumplimientos legales, regulatorios y/o contractuales?
2. ¿El proveedor de servicios realiza regularmente evaluaciones internas sobre sus políticas, procedimientos y disponibilidad de sus métricas de control?
3. ¿El proveedor realiza las auditorías periódicas de sus procesos internos?
4. ¿El proveedor cuenta con reportes SOC 1 Tipo 2 (ISAE 3402/SSAE 18) u otros informes de auditoría similares hechas por terceros? Especificar cuáles.
	1. _**Check**_: [artículo sobre SOC](https://estardondeestes.com/movi/es/articulos/informe-soc-por-que-es-clave-para-la-empresa) ([[SOC]]).
	2. _**SOC**_: surge por los fraudes esos de hace banda (creo que fue el escándalo de Lockheed Corporation). Se alinea con la ISO 27001.
	3. _**ISO 17799**_: relacionada con la ISO 27001, da las recomendaciones concretas para técnicas de seguridad, tanto física, de la información y las personas. Acá es donde habla de **cómo** se **implementa** la 27001. [[BSI - BS ISO_IEC 27002_2005, BS 7799-1_2005,BS ISO_IEC 17799_2005 Information technology. Security techniques. Code of practice for information security management-BSI (2007).pdf|ISO 17799:2007]] 
6. ¿El proveedor posee certificación ISO 27001? De ser así, especifique declaración de alcance.
	1. **SLA**: Service Level Agreement. -> Un contrato que fija qué nivel de servicio va a tener asegurado el cliente/usuario, que soporte va a tener y que van a haber métodos para poder cumplir con dicho nivel. Se tratan requerimientos como la disponibilidad o velocidad o almacenamiento, etc.
	2. Desde el área de sistemas que servicios le brinda a cada uno de las demás gerencias.
		1. Data de reportes (BI) -> Ventas.
		2. Gestor curriculums -> RRHH.
8. ¿El proveedor realiza con regularidad pruebas de penetración de sus aplicaciones en la nube, según lo prescrito por las mejores prácticas de industria?
9. ¿El proveedor permite que sus clientes realicen evaluaciones de vulnerabilidad independientes?
10. ¿El proveedor tiene la capacidad de segmentar lógicamente o cifrar los datos del cliente de tal manera que los datos puedan ser accedidos solo por ese cliente, sin tener acceso inadvertido a los datos de otro cliente?
11. ¿El proveedor tiene la capacidad de segmentar y recuperar lógicamente los datos de un cliente específico en caso de una falla o pérdida de datos?
12. En caso de corresponder con el servicio que brinda ¿El proveedor cumple requisitos legales y regulatorios tales como (p.e., EU Data Directive, PCAOB AS5, PCI DSS, HIPAA, LPDP, GDPR)? Cuáles?
13. ¿El proveedor tiene políticas y procedimientos que describen qué controles existen para proteger la propiedad intelectual de los Clientes?
14. ¿El proveedor puede proporcionar el storage de los datos en un país/región a acordar con el cliente?
15. ¿El proveedor tiene la capacidad de acordar esquemas de retención que se adecuen a las políticas de retención de datos de los clientes?
	1. Guardar datos por 10 años -> Para trazabilidad.
16. ¿El proveedor acepta una cláusula en el contrato que especifique el mecanismo de entrega de los datos del cliente al mismo ante necesidades puntuales o decisión del contrato, manteniendo la integridad de los mismos, así cómo el borrado de la información en sus sistemas al finalizar el servicio?
	1. Ver las regulaciones -> hay que entregarla al autor o al cliente.
	2. Ver que a la hora de entregar la info se haga con **integridad** y confidencialidad. A la hora de la entrega era tal como llegó, no hay modificaciones (te desligas legalmente, digamos).
	3. Qué mecanismos están definidos para esto, cuáles son los proceso a seguir.
17. ¿El proveedor posee algún mecanismo o proceso para evitar la fuga de información, detectar y prevenir violaciones de datos, filtraciones o destrucción no deseada de datos del cliente?
	1. **Detección de intrusión** en logs.
	2. **Marcas de agua:** Insertar algunos datos o información modificada por mí y que posee una apariencia solo conocida por mí (y difícil de replicar) -> ¿Me roban una base de datos... como pruebo que era mía?
	3. **Robo de información:** 
18. ¿El proveedor notifica a sus clientes cuando realiza cambios en el entorno productivo de la infraestructura y/o servicio que brinda con el fin de que este pueda tomar las medidas mitigantes en caso de perdida de servicio?
	1. Bueno... puede o no que notifiquen.
	2. La gracia es garantizar la disponibilidad máxima, como puedas.
	3. Si hacemos una actualización a los servicios transaccionales (por ejemplo, un coso que maneja compras), no podés dejar fuera de servicio a los clientes porque perdés mucha plata -> **Solución:** Load balancer empieza a redirigir al nuevo servicio e ir cambiando gradualmente. ¿Una transacción se perdió en el medio (en la mini ventana en que se realiza el cambio)? Usas el load balancer como caché.
19. ¿El proveedor utiliza buenas prácticas?
20. ¿El proveedor tiene acuerdos que garantizan que sus proveedores se adhieren a sus políticas de seguridad de la información y la privacidad?
21. ¿El proveedor tiene actualizados todos los componentes de su solución a la última versión o a la versión n-1 disponible por el fabricante/desarrollador del componente?
	1. Hay que hacer un plan de rollback.. Si las cosas no funcionan, volvemos para atrás, pero ¿Cómo?
	2. OpenSource WaZuh.

Cuando te auditan lo primero por lo que parten es entender cuál es tu negocio, qué haces y cuál es tu objetivo.

## Caso 'pay.com'
### Infraestructura:

![[Drawing 2022-09-16 18.39.46.excalidraw|center|1000]]

### Cosas a ver en una auditoria de seguridad de comunicación: Integridad, confidencialidad, autenticidad y no repudio.
- Ver https.
- Ver qué onda los certificados.
	- ¿Son emitidos por pay.com?
	- ¿Quién es su versificador?
	- ¿Qué algoritmos usa?
- Ver puertos abiertos.
- Inyección SQL.
- Ver comunicación de la API.
- Certificación [PCI-DSS](https://es.wikipedia.org/wiki/PCI_DSS) (_**P**ayment **C**ard **I**ndustry **D**ata **S**ecurity **S**tandard_) -> se exige para operar en bolsa y a las empresas que guardan datos de tarjetas. ([[PCI DSS]])
- Principios de mínimo privilegio.
- Mapas de infraestructura (como están los microservicios desplegados).
- Estrategias de escalabilidad (documentación) -> Crecimiento elástico.
- Subdivisión de redes.
- Staging -> dev, test, prod.
- Analizar políticas de acceso de la información.
	- ¿La lógica programada hace que se cumpla?
- Trazabilidad -> Logs y su control de integridad (del log).

## Investigar
- SOC2 aplicado a la nube -> [[SOC]]
- API vs WebService ->[[API vs WebService]]
- ¿Cuánto sale un certificado SSL/TLS? -> Dependiendo del agente emisor
	- GoDaddy: $1906 - $17820.
	- DonWeb: $100.
	- Puede ser gratis -> emitido por uno mismo.
- PCI DSS -> [[PCI DSS]]
---

Continúa en [[2022-09-30]]
